<div class="question-count-selector">
    <label class="form-label">
        <i class="bi bi-list-ol"></i>
        Number of Questions
    </label>

    <!-- preset options -->
    <div class="preset-options">
        <button *ngFor="let count of presetCounts" type="button" class="preset-button"
            [ngClass]="isPresetSelected(count) ? 'active' : ''" 
            (click)="onPresetSelect(count)">
            {{ count }} questions
        </button>
    </div>

    <!-- custom input -->
    <div class="custom-input-group">
        <label for="custom-count" class="custom-label">Or enter a custom number:</label>
        <div class="input-wrapper">
            <input type="number" id="custom-count" class="form-control" [min]="minCount" [max]="maxCount"
                [value]="customCount || ''" (input)="onCustomInput($event)"
                placeholder="Enter number ({{ minCount }}-{{ maxCount }})">
            <span class="input-icon">
                <i class="bi bi-pencil"></i>
            </span>
        </div>
    </div>

    <!-- current selection display -->
    <div class="selection-display" [ngClass]="{'error': !isValid, 'valid': isValid}">
        <i [ngClass]="{'bi bi-check-circle-fill': isValid, 'bi bi-x-circle-fill': !isValid}"></i>
        <span *ngIf="isValid">Selected: <strong>{{ selectedCount }}</strong> questions</span>
        <span *ngIf="!isValid" class="error-text">
            <strong>{{ errorMessage }}</strong>
        </span>
    </div>

    <!-- helper text -->
    <small class="form-text">
        Choose between {{ minCount }} and {{ maxCount }} questions
    </small>
</div>