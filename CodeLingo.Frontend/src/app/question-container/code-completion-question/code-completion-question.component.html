<div class="code-question-container">
  <div class="question-header">
    <h2 class="question-title">{{ question.title }}</h2>
    <div class="question-meta">
      <span class="meta-item">
        <i class="bi bi-code-square"></i>
        {{ question.language | uppercase }}
      </span>
      <span class="meta-item difficulty" [ngClass]="'difficulty-' + (question.difficulty | lowercase)">
        <i class="bi bi-bar-chart-fill"></i>
        {{ question.difficulty | titlecase }}
      </span>
      <span class="meta-item" *ngIf="question.metadata.estimatedTimeSeconds">
        <i class="bi bi-clock"></i>
        {{ question.metadata.estimatedTimeSeconds }}s
      </span>
    </div>
  </div>

  <div class="question-body">
    <p [innerHTML]="question.questionText"></p>
  </div>

  <div class="code-snippet-container">
    <pre><code>{{ preSnippet }}<input type="text" [(ngModel)]="answer" [disabled]="isSubmitted" class="code-input" placeholder="..." />{{ postSnippet }}</code></pre>
  </div>

  <div class="actions mt-3">
    <button class="btn btn-primary" (click)="submitAnswer()" [disabled]="isSubmitted || !answer.trim()">
      <span *ngIf="isSubmitted" class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>
      {{ isSubmitted ? 'Submitting...' : 'Submit Answer' }}
    </button>
  </div>
</div>