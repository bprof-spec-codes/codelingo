<div class="item-row rounded row align-items-center border-bottom small py-2 cursor-pointer transition-bg"
  (click)="toggleExpand()" #itemRow>
  <div class="col-2 text-truncate fw-bold text-primary">{{ question.title }}</div>
  <div class="col-4 text-truncate">{{ question.questionText }}</div>
  <div class="col-2">{{ question.difficulty }}</div>
  <div class="col-2">{{ question.language }}</div>

  <div class="col-2 text-end d-flex flex-wrap justify-content-end align-items-center gap-2">
    <!-- Expand/Collapse indicator -->
    <button class="btn btn-sm btn-link text-decoration-none p-0 me-2" type="button">
      <i [ngClass]="{ 'bi bi-chevron-down': !showDetails, 'bi bi-chevron-up': showDetails }"></i>
    </button>

    <button class="btn btn-sm btn-outline-danger d-none d-sm-inline" title="Delete"
      (click)="$event.stopPropagation(); deleteItem()">
      <i class="bi bi-trash"></i>
    </button>
  </div>
</div>

<!-- Expanded Editor Section -->
<div class="details py-2" [class.show]="showDetails" #detailsContainer>
  <div *ngIf="showDetails">
    <app-admin-edit [question]="question" (save)="onSave($event)" (cancel)="toggleExpand()">
    </app-admin-edit>
  </div>
</div>